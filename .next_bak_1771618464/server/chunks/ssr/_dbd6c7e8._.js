module.exports=[7379,a=>{"use strict";a.s(["Separator",()=>j],7379);var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f="horizontal",g=["horizontal","vertical"],h=c.forwardRef((a,c)=>{var d;let{decorative:h,orientation:i=f,...j}=a,k=(d=i,g.includes(d))?i:f;return(0,b.jsx)(e.div,{"data-orientation":k,...h?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:c})});h.displayName="Separator";var i=a.i(97895);function j({className:a,orientation:c="horizontal",decorative:d=!0,...e}){return(0,b.jsx)(h,{"data-slot":"separator",decorative:d,orientation:c,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}},5522,a=>{"use strict";a.s(["Input",()=>d]);var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}},34633,a=>{"use strict";a.s(["SectionHeading",()=>g]);var b=a.i(87924),c=a.i(97895),d=a.i(72131);let e={sm:{heading:"text-xl sm:text-2xl leading-tight",description:"text-sm leading-snug",spacing:"space-y-1.5"},md:{heading:"text-2xl sm:text-3xl md:text-4xl leading-tight",description:"text-sm sm:text-base leading-snug",spacing:"space-y-2"},lg:{heading:"text-3xl sm:text-4xl md:text-5xl leading-tight",description:"text-base sm:text-md leading-snug",spacing:"space-y-3 sm:space-y-4"},xl:{heading:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl leading-tight",description:"text-lg sm:text-xl leading-snug",spacing:"space-y-4 sm:space-y-6"}},f={left:"text-left",center:"text-center",right:"text-right"},g=(0,d.forwardRef)(({heading:a,description:d,size:g="md",align:h="center",className:i,headingClassName:j,as:k="h2",id:l,showDescriptionToScreenReaders:m=!1,...n},o)=>{let p=e[g],q=f[h];return(0,b.jsxs)("header",{ref:o,className:(0,c.cn)("z-10",p.spacing,q,i),...n,children:[(0,b.jsx)(k,{id:l,className:(0,c.cn)("text-foreground font-semibold",p.heading,"center"===h&&"md:mx-auto",j),children:a}),d&&(0,b.jsx)("p",{className:(0,c.cn)("text-muted-foreground",p.description,"center"===h&&"md:mx-auto",!m&&"sr-only"),"aria-live":"polite",children:d})]})});g.displayName="SectionHeading"},83694,a=>{"use strict";a.s(["default",()=>k]);var b=a.i(87924),c=a.i(34633),d=a.i(40695),e=a.i(5522),f=a.i(7379),g=a.i(38246),h=a.i(50944),i=a.i(72131);function j(){let a=(0,h.useRouter)(),j=(0,h.useSearchParams)(),[k,l]=(0,i.useState)(""),[m,n]=(0,i.useState)(""),[o,p]=(0,i.useState)(!1),q="success"===j.get("registered"),r="success"===j.get("verified"),s=j.get("google"),t=j.get("github"),u=j.get("next"),v="string"==typeof u&&u.startsWith("/")&&!u.startsWith("//")?u:null,w=v?`/api/auth/google?next=${encodeURIComponent(v)}`:"/api/auth/google",x=v?`/api/auth/github?next=${encodeURIComponent(v)}`:"/api/auth/github",y=async b=>{b.preventDefault(),l("");let c=new FormData(b.currentTarget),d=String(c.get("email")??""),e=String(c.get("password")??"");p(!0);try{let b=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:e})}),c=await b.json();if(!b.ok||!c.ok){l(c.message??"Login gagal."),"EMAIL_NOT_VERIFIED"===c.code?n(d):n("");return}n("");let f=c.user?.role??"USER";a.push(v??("SUPER_ADMIN"===f?"/super-admin?login=form_success":"ADMIN"===f?"/admin?login=form_success":"TEMPLATE_ADMIN"===f?"/admin-pengelola?login=form_success":"/browse-template?login=form_success"))}catch{l("Tidak bisa terhubung ke server.")}finally{p(!1)}};return(0,b.jsx)("div",{className:"min-h-screen w-full",children:(0,b.jsx)("main",{id:"main-content",children:(0,b.jsx)("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col px-5 pt-[116px] pb-16 md:pt-[128px] md:pb-24 lg:pt-[140px]",children:(0,b.jsxs)("section",{className:"mx-auto w-full max-w-xl space-y-8","aria-labelledby":"login-heading",children:[(0,b.jsx)(c.SectionHeading,{badge:"Member Access",heading:"Login ke akun Tamplateku",description:"Masuk untuk mengelola template favorit, melihat detail implementasi, dan melanjutkan proses pembelian.",size:"md",align:"center",as:"h1",id:"login-heading",className:"mb-4",showDescriptionToScreenReaders:!0}),q?(0,b.jsx)("div",{className:"rounded-md border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-700 dark:text-emerald-300",children:"Registrasi berhasil. Cek email lalu verifikasi OTP sebelum login."}):null,r?(0,b.jsx)("div",{className:"rounded-md border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-700 dark:text-emerald-300",children:"Verifikasi email berhasil. Sekarang kamu bisa login."}):null,"disabled_account"===s?(0,b.jsx)("div",{className:"rounded-md border border-amber-500/40 bg-amber-500/10 px-3 py-2 text-sm text-amber-700 dark:text-amber-300",children:"Akun Google kamu sedang dinonaktifkan. Hubungi admin."}):null,"disabled_account"===t?(0,b.jsx)("div",{className:"rounded-md border border-amber-500/40 bg-amber-500/10 px-3 py-2 text-sm text-amber-700 dark:text-amber-300",children:"Akun GitHub kamu sedang dinonaktifkan. Hubungi admin."}):null,k?(0,b.jsx)("div",{className:"rounded-md border border-destructive/40 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:k}):null,m?(0,b.jsx)(d.Button,{type:"button",variant:"outline",className:"w-full",onClick:()=>{a.push(`/verify-email?email=${encodeURIComponent(m)}&purpose=REGISTER`)},children:"Verifikasi Email Sekarang"}):null,(0,b.jsxs)("form",{className:"space-y-4 md:space-y-5","aria-label":"Login form",onSubmit:y,children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"login-email",className:"text-sm font-medium text-heading",children:"Email"}),(0,b.jsx)(e.Input,{id:"login-email",name:"email",type:"email",placeholder:"Masukkan email kamu",autoComplete:"email",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"login-password",className:"text-sm font-medium text-heading",children:"Password"}),(0,b.jsx)(e.Input,{id:"login-password",name:"password",type:"password",placeholder:"Masukkan password",autoComplete:"current-password",required:!0}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)(g.default,{href:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Lupa password?"})})]}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full",disabled:o,children:o?"Memproses...":"Masuk"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Separator,{className:"flex-1"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"atau"}),(0,b.jsx)(f.Separator,{className:"flex-1"})]}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:(0,b.jsxs)("a",{href:w,children:[(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"mr-2 h-4 w-4","aria-hidden":"true",children:[(0,b.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.65,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.955,3.045l5.657-5.657C33.868,6.053,29.159,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,b.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.955,3.045l5.657-5.657 C33.868,6.053,29.159,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,b.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.061,0,9.746-1.934,13.286-5.081l-6.19-5.238C29.033,35.091,26.62,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,b.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.235-2.231,4.166-4.207,5.681 c0.001-0.001,0.003-0.002,0.004-0.003l6.19,5.238C36.862,39.188,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:(0,b.jsxs)("a",{href:x,children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"mr-2 h-4 w-4","aria-hidden":"true",fill:"currentColor",children:(0,b.jsx)("path",{d:"M12 .5C5.649.5.5 5.649.5 12A11.5 11.5 0 008.357 22.93c.576.106.786-.25.786-.555 0-.274-.01-1-.015-1.962-3.196.695-3.87-1.54-3.87-1.54-.522-1.327-1.276-1.68-1.276-1.68-1.043-.713.079-.699.079-.699 1.153.081 1.759 1.184 1.759 1.184 1.025 1.756 2.69 1.248 3.346.954.104-.743.401-1.248.73-1.535-2.552-.29-5.236-1.276-5.236-5.683 0-1.256.449-2.284 1.184-3.09-.119-.29-.513-1.457.112-3.038 0 0 .966-.309 3.166 1.18A11.05 11.05 0 0112 6.09c.98.005 1.968.132 2.89.387 2.198-1.49 3.163-1.18 3.163-1.18.627 1.581.233 2.748.114 3.038.737.806 1.182 1.834 1.182 3.09 0 4.418-2.688 5.39-5.25 5.674.412.354.78 1.052.78 2.12 0 1.53-.014 2.764-.014 3.14 0 .308.207.667.792.553A11.502 11.502 0 0023.5 12C23.5 5.649 18.351.5 12 .5z"})}),"Sign in with GitHub"]})})]}),(0,b.jsxs)("p",{className:"text-center text-sm text-label",children:["Belum punya akun?"," ",(0,b.jsx)(g.default,{href:"/signup",className:"text-primary hover:underline",children:"Daftar sekarang"})]})]})})})})}function k(){return(0,b.jsx)(i.Suspense,{fallback:null,children:(0,b.jsx)(j,{})})}}];

//# sourceMappingURL=_dbd6c7e8._.js.map