module.exports=[17171,a=>{"use strict";a.s(["Label",()=>h],17171);var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(97895);function h({className:a,...c}){return(0,b.jsx)(f,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}},7379,a=>{"use strict";a.s(["Separator",()=>j],7379);var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f="horizontal",g=["horizontal","vertical"],h=c.forwardRef((a,c)=>{var d;let{decorative:h,orientation:i=f,...j}=a,k=(d=i,g.includes(d))?i:f;return(0,b.jsx)(e.div,{"data-orientation":k,...h?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:c})});h.displayName="Separator";var i=a.i(97895);function j({className:a,orientation:c="horizontal",decorative:d=!0,...e}){return(0,b.jsx)(h,{"data-slot":"separator",decorative:d,orientation:c,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}},77994,a=>{"use strict";a.s(["usePrevious",()=>c]);var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}},3688,a=>{"use strict";a.s(["useSize",()=>d]);var b=a.i(72131),c=a.i(72752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}},6406,a=>{"use strict";a.s(["CheckIcon",()=>b],6406);let b=(0,a.i(70106).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},46143,a=>{"use strict";a.s(["Checkbox",()=>C],46143);var b=a.i(87924),c=a.i(72131),d=a.i(70121),e=a.i(50104),f=a.i(7554),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(77192),k=a.i(30553),l="Checkbox",[m,n]=(0,e.createContextScope)(l),[o,p]=m(l);function q(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:h,disabled:i,form:j,name:k,onCheckedChange:m,required:n,value:p="on",internal_do_not_use_render:q}=a,[r,s]=(0,g.useControllableState)({prop:e,defaultProp:h??!1,onChange:m,caller:l}),[t,u]=c.useState(null),[v,w]=c.useState(null),x=c.useRef(!1),z=!t||!!j||!!t.closest("form"),A={checked:r,disabled:i,setChecked:s,control:t,setControl:u,name:k,form:j,value:p,hasConsumerStoppedPropagationRef:x,required:n,defaultChecked:!y(h)&&h,isFormControl:z,bubbleInput:v,setBubbleInput:w};return(0,b.jsx)(o,{scope:d,...A,children:"function"==typeof q?q(A):f})}var r="CheckboxTrigger",s=c.forwardRef(({__scopeCheckbox:a,onKeyDown:e,onClick:g,...h},i)=>{let{control:j,value:l,disabled:m,checked:n,required:o,setControl:q,setChecked:s,hasConsumerStoppedPropagationRef:t,isFormControl:u,bubbleInput:v}=p(r,a),w=(0,d.useComposedRefs)(i,q),x=c.useRef(n);return c.useEffect(()=>{let a=j?.form;if(a){let b=()=>s(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,s]),(0,b.jsx)(k.Primitive.button,{type:"button",role:"checkbox","aria-checked":y(n)?"mixed":n,"aria-required":o,"data-state":z(n),"data-disabled":m?"":void 0,disabled:m,value:l,...h,ref:w,onKeyDown:(0,f.composeEventHandlers)(e,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,f.composeEventHandlers)(g,a=>{s(a=>!!y(a)||!a),v&&u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})})});s.displayName=r;var t=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(q,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(x,{__scopeCheckbox:d})]})})});t.displayName=l;var u="CheckboxIndicator",v=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=p(u,d);return(0,b.jsx)(j.Presence,{present:e||y(g.checked)||!0===g.checked,children:(0,b.jsx)(k.Primitive.span,{"data-state":z(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});v.displayName=u;var w="CheckboxBubbleInput",x=c.forwardRef(({__scopeCheckbox:a,...e},f)=>{let{control:g,hasConsumerStoppedPropagationRef:j,checked:l,defaultChecked:m,required:n,disabled:o,name:q,value:r,form:s,bubbleInput:t,setBubbleInput:u}=p(w,a),v=(0,d.useComposedRefs)(f,u),x=(0,h.usePrevious)(l),z=(0,i.useSize)(g);c.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!j.current;if(x!==l&&a){let c=new Event("click",{bubbles:b});t.indeterminate=y(l),a.call(t,!y(l)&&l),t.dispatchEvent(c)}},[t,x,l,j]);let A=c.useRef(!y(l)&&l);return(0,b.jsx)(k.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??A.current,required:n,disabled:o,name:q,value:r,form:s,...e,tabIndex:-1,ref:v,style:{...e.style,...z,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function y(a){return"indeterminate"===a}function z(a){return y(a)?"indeterminate":a?"checked":"unchecked"}x.displayName=w;var A=a.i(6406),B=a.i(97895);function C({className:a,...c}){return(0,b.jsx)(t,{"data-slot":"checkbox",className:(0,B.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(v,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,b.jsx)(A.CheckIcon,{className:"size-3.5"})})})}},92208,a=>{"use strict";a.s(["default",()=>m]);var b=a.i(87924),c=a.i(40695),d=a.i(3130),e=a.i(46143),f=a.i(5522),g=a.i(17171),h=a.i(7379),i=a.i(46893),j=a.i(50944),k=a.i(72131);function l(){let a=(0,j.useRouter)(),l=(0,j.useSearchParams)(),m=l.get("google"),n=l.get("github"),o=l.get("auth"),[p,q]=(0,k.useState)(""),[r,s]=(0,k.useState)(!1),t=async b=>{b.preventDefault(),q("");let c=new FormData(b.currentTarget),d=String(c.get("name")??"").trim(),e=String(c.get("email")??"").trim(),f=String(c.get("password")??""),g=String(c.get("notes")??"").trim();s(!0);try{let b=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,email:e,password:f,notes:g})}),c=await b.json();if(!b.ok||!c.ok)return void q(c.message??"Registrasi gagal.");let h=await fetch("/api/otp/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,purpose:"REGISTER"})}),i=await h.json();if(!h.ok&&429!==h.status)return void q(i.message??"Registrasi berhasil, tapi gagal kirim OTP.");a.push(`/verify-email?email=${encodeURIComponent(e)}&purpose=REGISTER`)}catch{q("Tidak bisa terhubung ke server.")}finally{s(!1)}};return(0,b.jsx)("div",{className:"min-h-screen w-full",children:(0,b.jsx)("main",{id:"main-content",children:(0,b.jsx)("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col justify-center px-5 pt-[116px] pb-16 md:pt-[128px] md:pb-24 lg:pt-[140px]",children:(0,b.jsx)("section",{className:"mx-auto w-full max-w-2xl","aria-labelledby":"signup-heading",children:(0,b.jsxs)(d.Card,{className:"border-border/70",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{id:"signup-heading",children:"Form Registrasi"}),(0,b.jsx)(d.CardDescription,{children:"Lengkapi data di bawah untuk membuat akun baru."})]}),(0,b.jsxs)(d.CardContent,{children:["required"===o?(0,b.jsx)("div",{className:"mb-4 rounded-md border border-amber-500/40 bg-amber-500/10 px-3 py-2 text-sm text-amber-700 dark:text-amber-300",children:"Untuk mengakses admin, login dengan Google atau GitHub terlebih dahulu."}):null,"success"===m?(0,b.jsx)("div",{className:"mb-4 rounded-md border border-green-500/40 bg-green-500/10 px-3 py-2 text-sm text-green-700 dark:text-green-300",children:"Login Google berhasil. Akun kamu sudah terhubung."}):null,"success"===n?(0,b.jsx)("div",{className:"mb-4 rounded-md border border-green-500/40 bg-green-500/10 px-3 py-2 text-sm text-green-700 dark:text-green-300",children:"Login GitHub berhasil. Akun kamu sudah terhubung."}):null,n&&"success"!==n?(0,b.jsx)("div",{className:"mb-4 rounded-md border border-amber-500/40 bg-amber-500/10 px-3 py-2 text-sm text-amber-700 dark:text-amber-300",children:"missing_env"===n?"Konfigurasi GitHub OAuth belum lengkap di server.":"email_unavailable"===n?"GitHub tidak mengembalikan email terverifikasi. Pastikan email GitHub kamu verified.":"disabled"===n?"Login sosial sedang dinonaktifkan oleh admin.":"Proses login GitHub gagal. Coba lagi."}):null,p?(0,b.jsx)("div",{className:"mb-4 rounded-md border border-destructive/40 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:p}):null,(0,b.jsxs)("form",{className:"space-y-4 md:space-y-5","aria-label":"Sign up form",onSubmit:t,children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"signup-name",children:"Nama Lengkap"}),(0,b.jsx)(f.Input,{id:"signup-name",name:"name",placeholder:"Masukkan nama kamu",autoComplete:"name",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"signup-email",children:"Email"}),(0,b.jsx)(f.Input,{id:"signup-email",name:"email",type:"email",placeholder:"Masukkan email aktif",autoComplete:"email",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"signup-password",children:"Password"}),(0,b.jsx)(f.Input,{id:"signup-password",name:"password",type:"password",placeholder:"Minimal 8 karakter",autoComplete:"new-password",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"signup-notes",children:"Jenis bisnis / catatan (opsional)"}),(0,b.jsx)(i.Textarea,{id:"signup-notes",name:"notes",rows:3,placeholder:"Ceritakan singkat bisnis atau kebutuhan websitemu..."})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(e.Checkbox,{id:"signup-agreement",required:!0}),(0,b.jsx)(g.Label,{htmlFor:"signup-agreement",className:"text-sm leading-relaxed",children:"Saya setuju dengan syarat layanan dan kebijakan privasi Tamplateku."})]}),(0,b.jsx)(c.Button,{type:"submit",className:"w-full",disabled:r,children:r?"Memproses...":"Buat Akun"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.Separator,{className:"flex-1"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"atau"}),(0,b.jsx)(h.Separator,{className:"flex-1"})]}),(0,b.jsx)(c.Button,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:(0,b.jsxs)("a",{href:"/api/auth/google",children:[(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"mr-2 h-4 w-4","aria-hidden":"true",children:[(0,b.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.65,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.955,3.045l5.657-5.657C33.868,6.053,29.159,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,b.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.955,3.045l5.657-5.657 C33.868,6.053,29.159,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,b.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.061,0,9.746-1.934,13.286-5.081l-6.19-5.238C29.033,35.091,26.62,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,b.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.235-2.231,4.166-4.207,5.681 c0.001-0.001,0.003-0.002,0.004-0.003l6.19,5.238C36.862,39.188,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),(0,b.jsx)(c.Button,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:(0,b.jsxs)("a",{href:"/api/auth/github",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"mr-2 h-4 w-4","aria-hidden":"true",fill:"currentColor",children:(0,b.jsx)("path",{d:"M12 .5C5.649.5.5 5.649.5 12A11.5 11.5 0 008.357 22.93c.576.106.786-.25.786-.555 0-.274-.01-1-.015-1.962-3.196.695-3.87-1.54-3.87-1.54-.522-1.327-1.276-1.68-1.276-1.68-1.043-.713.079-.699.079-.699 1.153.081 1.759 1.184 1.759 1.184 1.025 1.756 2.69 1.248 3.346.954.104-.743.401-1.248.73-1.535-2.552-.29-5.236-1.276-5.236-5.683 0-1.256.449-2.284 1.184-3.09-.119-.29-.513-1.457.112-3.038 0 0 .966-.309 3.166 1.18A11.05 11.05 0 0112 6.09c.98.005 1.968.132 2.89.387 2.198-1.49 3.163-1.18 3.163-1.18.627 1.581.233 2.748.114 3.038.737.806 1.182 1.834 1.182 3.09 0 4.418-2.688 5.39-5.25 5.674.412.354.78 1.052.78 2.12 0 1.53-.014 2.764-.014 3.14 0 .308.207.667.792.553A11.502 11.502 0 0023.5 12C23.5 5.649 18.351.5 12 .5z"})}),"Sign in with GitHub"]})}),(0,b.jsxs)("p",{className:"text-center text-sm text-label",children:["Sudah punya akun?"," ",(0,b.jsx)("a",{href:"/login",className:"text-primary hover:underline",children:"Login di sini"})]})]})]})]})})})})})}function m(){return(0,b.jsx)(k.Suspense,{fallback:null,children:(0,b.jsx)(l,{})})}}];

//# sourceMappingURL=_dda9990e._.js.map