(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";e.s(["Input",()=>s]);var t=e.i(43476),a=e.i(47163);function s(e){let{className:s,type:i,...l}=e;return(0,t.jsx)("input",{type:i,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}},62959,e=>{"use strict";e.s(["SectionHeading",()=>n]);var t=e.i(43476),a=e.i(47163),s=e.i(71645);let i={sm:{heading:"text-xl sm:text-2xl leading-tight",description:"text-sm leading-snug",spacing:"space-y-1.5"},md:{heading:"text-2xl sm:text-3xl md:text-4xl leading-tight",description:"text-sm sm:text-base leading-snug",spacing:"space-y-2"},lg:{heading:"text-3xl sm:text-4xl md:text-5xl leading-tight",description:"text-base sm:text-md leading-snug",spacing:"space-y-3 sm:space-y-4"},xl:{heading:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl leading-tight",description:"text-lg sm:text-xl leading-snug",spacing:"space-y-4 sm:space-y-6"}},l={left:"text-left",center:"text-center",right:"text-right"},n=(0,s.forwardRef)((e,s)=>{let{heading:n,description:r,size:d="md",align:o="center",className:m,headingClassName:c,as:u="h2",id:x,showDescriptionToScreenReaders:p=!1,...g}=e,h=i[d],f=l[o];return(0,t.jsxs)("header",{ref:s,className:(0,a.cn)("z-10",h.spacing,f,m),...g,children:[(0,t.jsx)(u,{id:x,className:(0,a.cn)("text-foreground font-semibold",h.heading,"center"===o&&"md:mx-auto",c),children:n}),r&&(0,t.jsx)("p",{className:(0,a.cn)("text-muted-foreground",h.description,"center"===o&&"md:mx-auto",!p&&"sr-only"),"aria-live":"polite",children:r})]})});n.displayName="SectionHeading"},89954,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),a=e.i(62959),s=e.i(67881),i=e.i(23750),l=e.i(22016),n=e.i(18566),r=e.i(71645);function d(){let e=(0,n.useRouter)(),d=(0,n.useSearchParams)(),[o,m]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[x,p]=(0,r.useState)(!1),g="success"===d.get("registered"),h="success"===d.get("verified"),f=async t=>{var a,s,i,l,n;t.preventDefault(),m("");let r=new FormData(t.currentTarget),d=String(null!=(a=r.get("email"))?a:""),o=String(null!=(s=r.get("password"))?s:"");p(!0);try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:o})}),a=await t.json();if(!t.ok||!a.ok){m(null!=(l=a.message)?l:"Login gagal."),"EMAIL_NOT_VERIFIED"===a.code?u(d):u("");return}u("");let s=null!=(n=null==(i=a.user)?void 0:i.role)?n:"USER";e.push("SUPER_ADMIN"===s?"/super-admin?login=form_success":"ADMIN"===s?"/admin?login=form_success":"TEMPLATE_ADMIN"===s?"/admin-pengelola?login=form_success":"/browse-template?login=form_success")}catch(e){m("Tidak bisa terhubung ke server.")}finally{p(!1)}};return(0,t.jsx)("div",{className:"min-h-screen w-full",children:(0,t.jsx)("main",{id:"main-content",children:(0,t.jsx)("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col px-5 pt-[116px] pb-16 md:pt-[128px] md:pb-24 lg:pt-[140px]",children:(0,t.jsxs)("section",{className:"mx-auto w-full max-w-xl space-y-8","aria-labelledby":"login-heading",children:[(0,t.jsx)(a.SectionHeading,{badge:"Member Access",heading:"Login ke akun Tamplateku",description:"Masuk untuk mengelola template favorit, melihat detail implementasi, dan melanjutkan proses pembelian.",size:"md",align:"center",as:"h1",id:"login-heading",className:"mb-4",showDescriptionToScreenReaders:!0}),g?(0,t.jsx)("div",{className:"rounded-md border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-700 dark:text-emerald-300",children:"Registrasi berhasil. Cek email lalu verifikasi OTP sebelum login."}):null,h?(0,t.jsx)("div",{className:"rounded-md border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-700 dark:text-emerald-300",children:"Verifikasi email berhasil. Sekarang kamu bisa login."}):null,o?(0,t.jsx)("div",{className:"rounded-md border border-destructive/40 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:o}):null,c?(0,t.jsx)(s.Button,{type:"button",variant:"outline",className:"w-full",onClick:()=>{e.push("/verify-email?email=".concat(encodeURIComponent(c),"&purpose=REGISTER"))},children:"Verifikasi Email Sekarang"}):null,(0,t.jsxs)("form",{className:"space-y-4 md:space-y-5","aria-label":"Login form",onSubmit:f,children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"login-email",className:"text-sm font-medium text-heading",children:"Email"}),(0,t.jsx)(i.Input,{id:"login-email",name:"email",type:"email",placeholder:"Masukkan email kamu",autoComplete:"email",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"login-password",className:"text-sm font-medium text-heading",children:"Password"}),(0,t.jsx)(i.Input,{id:"login-password",name:"password",type:"password",placeholder:"Masukkan password",autoComplete:"current-password",required:!0}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)(l.default,{href:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Lupa password?"})})]}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full",disabled:x,children:x?"Memproses...":"Masuk"})]}),(0,t.jsxs)("p",{className:"text-center text-sm text-label",children:["Belum punya akun?"," ",(0,t.jsx)(l.default,{href:"/signup",className:"text-primary hover:underline",children:"Daftar sekarang"})]})]})})})})}function o(){return(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(d,{})})}}]);